{"version":3,"sources":["pages/styles/AdminPage.module.scss","styles/App.module.scss","pages/styles/MainPage.module.scss","pages/styles/AuthPage.module.scss","components/Forms/Input/style/Input.module.scss","hooks/useHttp.js","pages/MainPage.js","pages/CountryPage.js","context/AuthContext.js","components/Buttons/Button.js","components/Forms/Input/Input.js","components/Forms/AuthForm.js","pages/AuthPage.js","hooks/useAuth.js","components/Navigation/NavBar.js","components/Navigation/UserBar.js","components/Tabs/TabPanel.tsx","components/Tabs/VerticalTabs.js","components/Forms/CountryAddForm.js","components/Forms/Textarea.js","components/Forms/CountryUpdateForm.js","components/Map/Map.js","pages/AdminPage.js","components/Search/Search.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useCountries","setResponse","countryAsyncRequest","requestResponse","cLoading","cError","countryResponse","getCountryFromBase","promiseResponse","MainPage","props","countries","useEffect","key","map","country","langData","className","classesCss","filteredCountries","searchbarState","filter","countryName","includes","index","CountryCard","to","toLowerCase","CountryCardPhoto","src","alt","capitalName","filterCountries","CountryPage","AuthContext","createContext","token","userId","login","logout","isAuthenticated","Button","onClick","label","disabled","Input","name","type","onChange","placeholder","value","classes","InputBlock","join","htmlFor","id","AuthForm","loginHandler","signUpHandler","waitCondition","email","password","form","setForm","changeHandler","event","target","FormMessage","AuthInput","AuthButtonSet","SignInButton","FormButton","SignUpButton","AuthPage","setMessage","auth","useContext","requestHandler","authStorageName","NavBar","children","UserBar","Consumer","TabPanel","other","style","display","role","hidden","aria-labelledby","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","tabs","borderRight","divider","VerticalTabs","setValue","TabLabels","TabsContent","child","console","log","Tab","a11yProps","React","cloneElement","Tabs","orientation","variant","newValue","aria-label","countryData","countryCode","CountryAddForm","sendHandler","Textarea","rows","countryLang","EN","RU","FR","CountryUpdateForm","countriesData","Object","keys","lang","setCountries","formChangeHandler","langDataChangeHandler","newCountriesData","countriesCodes","hasOwnProperty","push","FormColumn","shortText","Description","description","Map","mapContainer","useRef","coordinates","mapboxgl","accessToken","container","current","center","zoom","nav","NavigationControl","showCompass","showZoom","el","document","createElement","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","addControl","remove","ref","langShortDummy","langFullDummy","AdminPage","setCountriesData","addCountryHandler","updateCountryHandler","destructCountry","countryDataFromClient","countryStructure","langCountryStructure","shortLangData","fullLangData","shortDummyKey","undefined","fullDummyKey","langCountryData","countriesDataFromServer","structure","i","countryLangData","length","langCountries","currentCountryLangs","county","structCountries","FormStyle1","Search","e","setSearchbarState","App","setToken","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","Provider","Body","SiteNavBar","SiteContent","path","exact","render","SiteFooter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","application","basename","process","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.066fb4a2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormStyle1\":\"AdminPage_FormStyle1__2WyUk\",\"FormColumn\":\"AdminPage_FormColumn__19Rng\",\"Description\":\"AdminPage_Description__2DDwy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Body\":\"App_Body__3GDxS\",\"SiteNavBar\":\"App_SiteNavBar__9cl4Z\",\"UserBar\":\"App_UserBar__2U6zT\",\"SiteContent\":\"App_SiteContent__2jrpx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainPage\":\"MainPage_MainPage__2phI6\",\"CountryCardPhoto\":\"MainPage_CountryCardPhoto__2cHsY\",\"CountryCard\":\"MainPage_CountryCard__2Hry-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthPage\":\"AuthPage_AuthPage__n7mVp\",\"AuthForm\":\"AuthPage_AuthForm__1K-Gr\",\"FormMessage\":\"AuthPage_FormMessage__2Xi3-\",\"AuthInput\":\"AuthPage_AuthInput__1wvqm\",\"AuthButtonSet\":\"AuthPage_AuthButtonSet__2JCha\",\"FormButton\":\"AuthPage_FormButton__2DDF3\",\"SignUpButton\":\"AuthPage_SignUpButton__3m-xC\",\"SignInButton\":\"AuthPage_SignInButton__3QLpV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputBlock\":\"Input_InputBlock__1WiFD\"};","import {useCallback, useState} from \"react\";\r\n\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n\r\n    const clearError = () => setError(null)\r\n\r\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body)\r\n                headers['Content-Type'] = 'application/json'\r\n            }\r\n            const response = await fetch(url, {method, body, headers})\r\n            const data = await response.json()\r\n            if (!response.ok) {\r\n                throw new Error(data.message || \"Smth wrong\")\r\n            }\r\n\r\n            setLoading(false)\r\n            return (data)\r\n        } catch (e) {\r\n            setLoading(false)\r\n            setError(e.message)\r\n        }\r\n    }, [])\r\n\r\n    return {loading, error, request, clearError}\r\n}\r\n\r\n\r\nexport const useCountries = () => {\r\n    const {loading, error, request} = useHttp()\r\n    const [response, setResponse] = useState()\r\n\r\n    const countryAsyncRequest = useCallback(async (body = {}) => {\r\n        const requestResponse = await request('/api/country/get', 'POST', body)\r\n        setResponse(requestResponse)\r\n    }, [request])\r\n\r\n    const countryRequest = useCallback((body = {}) => {\r\n        const promiseResponse = countryAsyncRequest(body)\r\n        return(promiseResponse)\r\n    }, [countryAsyncRequest])\r\n\r\n    return {\r\n        cLoading : loading, cError: error, countryResponse: response, getCountryFromBase: countryRequest\r\n    }\r\n}","import { useCountries } from \"../hooks/useHttp\";\r\nimport React, { useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classesCss from \"./styles/MainPage.module.scss\";\r\n\r\nexport const MainPage = (props) => {\r\n\r\n  const { getCountryFromBase, countryResponse} = useCountries();\r\n\r\n\r\n  useEffect(() => {\r\n    getCountryFromBase({ key: \"short\" });\r\n  }, []);\r\n\r\n  let countries;\r\n\r\n  if (countryResponse) {\r\n    countries = countryResponse.countries.map((country) => country.langData[1]);\r\n  }\r\n\r\n  const filterCountries = (countries) => {\r\n    let filteredCountries = countries;\r\n    if (props.searchbarState) {\r\n      filteredCountries = countries.filter((country) =>\r\n        country.countryName.includes(props.searchbarState)\r\n      );\r\n    }\r\n\r\n    return filteredCountries.map((country, index) => {\r\n      return (\r\n        <div key={`countryCard${index}`}>\r\n          <NavLink\r\n            className={classesCss.CountryCard}\r\n            to={`/country/${country.countryName.toLowerCase()}`}\r\n          >\r\n            <div>\r\n              <img\r\n                className={classesCss.CountryCardPhoto}\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Germany.svg\"\r\n                alt=\"flag\"\r\n              />\r\n            </div>\r\n            <div>\r\n              {country.countryName}, {country.capitalName}\r\n            </div>\r\n          </NavLink>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={classesCss.MainPage}>\r\n      {countries && filterCountries([...countries])}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nexport const CountryPage = (props) => {\r\n\r\n    // const toHomePage = () => {\r\n    //     props.history.push({\r\n    //         pathname: \"/\"\r\n    //     })\r\n    // }\r\n\r\n\r\n    return(\r\n        <div>\r\n            <h1>Country Page</h1>\r\n            <button\r\n                //onClick={toHomePage}\r\n            >Back\r\n            </button>\r\n        </div>\r\n    )\r\n}","import {createContext} from 'react'\r\n\r\nexport const AuthContext = createContext({\r\n    token: null,\r\n    userId: null,\r\n    login: () => {},\r\n    logout: () => {},\r\n    isAuthenticated: false\r\n})","import React from 'react'\r\n\r\nconst Button = ({onClick, label, disabled, className}) => {\r\n    return(\r\n        <button\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            className={className}\r\n        >\r\n            {label}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport classesCss from './style/Input.module.scss'\r\n\r\nconst Input = ({name, type, onChange, label, placeholder, className, value}) => {\r\n\r\n    const classes = [classesCss.InputBlock, className]\r\n\r\n    return (\r\n        <div className={classes.join(' ')}>\r\n            <label htmlFor={`inputId${name}`}>{label}</label>\r\n            <input\r\n                name={name}\r\n                id={`inputId${name}`}\r\n                type={type}\r\n                value={value}\r\n                onChange={onChange}\r\n                placeholder={placeholder}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input","import React, {useState} from 'react'\r\nimport Button from \"../Buttons/Button\";\r\nimport Input from \"./Input/Input\";\r\n\r\nconst AuthForm = ({classes, message, loginHandler, signUpHandler, waitCondition}) => {\r\n\r\n    const [form, setForm] = useState({\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const changeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    return (\r\n        <div className={classes.AuthForm}>\r\n            <div className={classes.FormMessage}>{message}</div>\r\n            <Input\r\n                label={\"Login: \"}\r\n                name={'email'}\r\n                type=\"text\"\r\n                onChange={changeHandler}\r\n                className={classes.AuthInput}\r\n            />\r\n            <Input\r\n                className={classes.AuthInput}\r\n                name={'password'}\r\n                type={\"password\"}\r\n                label={\"Password: \"}\r\n                onChange={changeHandler}\r\n            />\r\n            <div className={classes.AuthButtonSet}>\r\n                <Button\r\n                    onClick={() => loginHandler(form)}\r\n                    disabled={waitCondition}\r\n                    label={\"Sign In\"}\r\n                    className={[classes.SignInButton, classes.FormButton].join(\" \")}\r\n                />\r\n\r\n                <Button\r\n                    onClick={() => signUpHandler(form)}\r\n                    disabled={waitCondition}\r\n                    label={\"Sign Up\"}\r\n                    className={[classes.SignUpButton, classes.FormButton].join(\" \")}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthForm","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useHttp} from \"../hooks/useHttp\";\r\nimport {AuthContext} from \"../context/AuthContext\";\r\nimport classesCss from \"./styles/AuthPage.module.scss\"\r\nimport AuthForm from \"../components/Forms/AuthForm\";\r\n\r\nexport const AuthPage = () => {\r\n\r\n    const {loading, error, request} = useHttp()\r\n    const [message, setMessage] = useState('')\r\n    const auth = useContext(AuthContext)\r\n\r\n\r\n    const requestHandler = async(form) => {\r\n        try{\r\n            const data = await request('/api/auth/register', 'POST', {...form})\r\n            setMessage(data.message || '')\r\n        } catch(e){\r\n\r\n        }\r\n    }\r\n\r\n    const loginHandler = async(form) => {\r\n        try{\r\n            const data = await request('/api/auth/login', 'POST', {...form})\r\n            auth.login(data.token, data.userId)\r\n            setMessage(data.message || '')\r\n        } catch(e){\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setMessage(error)\r\n    }, [error])\r\n\r\n    return (\r\n        <div className={classesCss.AuthPage}>\r\n            <AuthForm\r\n                classes={classesCss}\r\n                message={message}\r\n                loginHandler={loginHandler}\r\n                signUpHandler={requestHandler}\r\n                waitCondition={loading}\r\n            />\r\n        </div>\r\n    )\r\n}","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst authStorageName = 'authData'\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null)\r\n    const [userId, setUserId] = useState(null)\r\n\r\n    const login = useCallback((jwtToken, id) => {\r\n        setToken(jwtToken)\r\n        setUserId(id)\r\n        localStorage.setItem( authStorageName, JSON.stringify({\r\n            userId: id, token: jwtToken\r\n        }))\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(null)\r\n        setUserId(null)\r\n        localStorage.removeItem(authStorageName)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const data = JSON.parse(localStorage.getItem(authStorageName))\r\n        if(data?.token){\r\n            login(data.token, data.userId)\r\n        }\r\n    }, [login])\r\n\r\n    return {login, logout, token, userId}\r\n}","import React from 'react'\r\n\r\nconst NavBar = ({classes, children}) => {\r\n    return(\r\n        <div className={classes}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {AuthContext} from \"../../context/AuthContext\";\r\n\r\nconst UserBar = ({classes}) => {\r\n    return (\r\n        <div className={classes}>\r\n            <AuthContext.Consumer>\r\n                {value => !value.isAuthenticated ?\r\n                    <NavLink to={\"/login\"}>Sign in</NavLink> :\r\n                    <div>\r\n                        You are in the system!\r\n                        <button\r\n                            onClick={value.logout}\r\n                        >Log out\r\n                        </button>\r\n                    </div>}\r\n\r\n            </AuthContext.Consumer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserBar","import React from \"react\";\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    label: string;\r\n    value?: any;\r\n    index?: any;\r\n    className: string;\r\n}\r\n\r\nfunction TabPanel(props: TabPanelProps) {\r\n\r\n    const { children, index, value, label, className, ...other } = props;\r\n\r\n    const classes = \"gogo\"\r\n\r\n    return (\r\n        <div\r\n            style={{display: value === index? 'flex': 'none'}}\r\n            role={\"tabpanel\"}\r\n            className={[classes ,className].join(' ')}\r\n            hidden={value !== index}\r\n            id={`vertical-tabpanel-${index}`}\r\n            aria-labelledby={`vertical-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && children}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default TabPanel","import React, {useState} from 'react';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport {Tab} from '@material-ui/core';\r\nimport Tabs from '@material-ui/core/Tabs';\r\n\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `vertical-tab-${index}`,\r\n        'aria-controls': `vertical-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n        display: 'flex',\r\n    },\r\n    tabs: {\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n    },\r\n}));\r\n\r\n\r\nconst VerticalTabs = ({children}) => {\r\n    const classes = useStyles();\r\n    const [value, setValue] = useState(0);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n\r\n    let TabLabels = null;\r\n    let TabsContent = null;\r\n    if(children){\r\n        TabLabels = children.map((child, index) => {\r\n            console.log(child)\r\n            return (<Tab label={child.props.label} key = {index} {...a11yProps(index)} />)\r\n        })\r\n        TabsContent = children.map((child, index) => {\r\n            return React.cloneElement(child, {value: value, key: index, index})\r\n        })\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Tabs\r\n                orientation=\"vertical\"\r\n                variant=\"scrollable\"\r\n                value={value}\r\n                onChange={handleChange}\r\n                aria-label=\"Vertical tabs example\"\r\n                className={classes.tabs}\r\n            >\r\n                {TabLabels}\r\n            </Tabs>\r\n            {TabsContent}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default VerticalTabs","import React, {useState} from 'react'\r\nimport Input from \"./Input/Input\";\r\nimport Button from \"../Buttons/Button\";\r\n\r\n\r\nconst countryData = {\r\n    countryCode: \"\"\r\n}\r\n\r\nconst CountryAddForm = ({sendHandler, waitCondition, message}) => {\r\n    const [form, setForm] = useState(countryData)\r\n\r\n    const changeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Input\r\n                label={\"Country code:\"}\r\n                onChange={changeHandler}\r\n                name={\"countryCode\"}\r\n            />\r\n\r\n            <Button\r\n                onClick={() => sendHandler(form)}\r\n                disabled={waitCondition}\r\n                label={\"Add\"}\r\n            />\r\n            <br/>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CountryAddForm","import React from 'react'\r\n\r\nconst Textarea = ({name, onChange, label, placeholder, className, value, rows}) => {\r\n\r\n    return(\r\n        <div className={className}>\r\n            <label htmlFor={`textareaId${name}`}>{label}</label>\r\n            <br />\r\n            <textarea\r\n                name={name}\r\n                id={`textareaId${name}`}\r\n                value={value}\r\n                rows={rows}\r\n                onChange={onChange}\r\n                placeholder={placeholder}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Textarea","import React, {useState} from 'react'\r\nimport Input from \"./Input/Input\";\r\nimport Button from \"../Buttons/Button\";\r\nimport classesCss from \"../../pages/styles/AdminPage.module.scss\";\r\nimport Textarea from \"./Textarea\";\r\n\r\n\r\nconst countryLang = {\r\n    EN: \"English\",\r\n    RU: \"Russian\",\r\n    FR: \"France\"\r\n}\r\n\r\nconst CountryUpdateForm = ({sendHandler, waitCondition, countriesData, message}) => {\r\n\r\n    const [form, setForm] = useState({\r\n        countryCode: countriesData? Object.keys(countriesData)[0] : '',\r\n        lang: Object.keys(countryLang)[0]\r\n    })\r\n    const [countries, setCountries] = useState(countriesData)\r\n\r\n    const formChangeHandler = event => {\r\n        setForm({...form, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    const langDataChangeHandler = event => {\r\n        if(countries){\r\n            const newCountriesData = {...countries}\r\n            newCountriesData[form.countryCode].langData[form.lang][event.target.name] = event.target.value\r\n            setCountries(newCountriesData)\r\n        }\r\n\r\n    }\r\n\r\n    const countriesCodes = []\r\n    if(countriesData){\r\n        for(let countryCode in countriesData){\r\n            if(countriesData.hasOwnProperty(countryCode)){\r\n                countriesCodes.push(countryCode)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classesCss.FormColumn}>\r\n            <label>Country</label>\r\n            <select\r\n                name=\"countryCode\"\r\n                id=\"counties\"\r\n                value={form.countryCode}\r\n                onChange={formChangeHandler}\r\n            >\r\n                {countriesCodes[0]?\r\n                    countriesCodes.map((countryCode) => {\r\n                        return <option key={countryCode}\r\n                                       value={countryCode}>{countryCode}</option>\r\n                    }) : null\r\n                }\r\n            </select>\r\n            <label>Language</label>\r\n            <select\r\n                name=\"lang\"\r\n                onChange={formChangeHandler}\r\n                value={form.lang}\r\n            >\r\n                <option value={'EN'}>English</option>\r\n                <option value={'RU'}>Russian</option>\r\n                <option value={'FR'}>French</option>\r\n            </select>\r\n            <Input\r\n                label={\"Country Name: \"}\r\n                name={\"countryName\"}\r\n                value={countries? countries[form.countryCode]?.langData[form.lang]?.countryName || \"\": \"\"}\r\n                onChange={langDataChangeHandler}\r\n            />\r\n            <Input\r\n                label={\"Capital Name: \"}\r\n                name={\"capitalName\"}\r\n                value={countries? countries[form.countryCode]?.langData[form.lang]?.capitalName || \"\" : \"\"}\r\n                onChange={langDataChangeHandler}\r\n            />\r\n                <Button\r\n                    onClick={() => sendHandler({\r\n                        countryCode: form.countryCode,\r\n                        data: countries[form.countryCode]\r\n                    })}\r\n                    disabled={waitCondition}\r\n                    label={\"Update\"}\r\n                    className={[classesCss.SignUpButton, classesCss.FormButton].join(\" \")}\r\n                />\r\n                <br/>\r\n                {message}\r\n            </div>\r\n            <div className={classesCss.FormColumn}>\r\n                <Textarea\r\n                    label={\"Short text(in Mane Page: \"}\r\n                    name={\"shortText\"}\r\n                    value={countries? countries[form.countryCode]?.langData[form.lang]?.shortText || \"\" : \"\"}\r\n                    onChange={langDataChangeHandler}\r\n                />\r\n                <Textarea\r\n                    className={classesCss.Description}\r\n                    label={\"Description: \"}\r\n                    name={\"description\"}\r\n                    value={countries? countries[form.countryCode]?.langData[form.lang]?.description || \"\" : \"\"}\r\n                    onChange={langDataChangeHandler}\r\n                    rows = {11}\r\n                />\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CountryUpdateForm","import React, {useRef, useEffect} from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\n//import {colorBoundaries} from \"./mapFunction\";\r\n//import './Map.css';\r\n\r\n\r\nconst Map = () => {\r\n    const mapContainer = useRef();\r\n\r\n    useEffect(() => {\r\n        const coordinates = [4.8896900, 52.3740300];\r\n        const city = \"Амстердам\"\r\n\r\n        mapboxgl.accessToken = \"pk.eyJ1Ijoic2Fmd29vZCIsImEiOiJja20wemV3djgxeDFwMnZtdzNlcmRmbnNqIn0.X8mmN1JOEEHQjSZ0I8_ChA\";\r\n        const map = new mapboxgl.Map ({\r\n            container: mapContainer.current,\r\n            style: \"mapbox://styles/mapbox/outdoors-v11\",\r\n            center: coordinates,\r\n            zoom: 3,\r\n        })\r\n\r\n        const nav = new mapboxgl.NavigationControl({\r\n            showCompass: true,\r\n            showZoom: true\r\n        })\r\n\r\n        const el = document.createElement('div');\r\n        el.className = 'marker';\r\n\r\n        new mapboxgl.Marker(el)\r\n            .setLngLat(coordinates)\r\n            .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups\r\n                .setHTML(`<h3>${city}</h3>`))\r\n            .addTo(map)\r\n\r\n        map.addControl(nav, 'bottom-right');\r\n        //colorBoundaries(this.map)\r\n\r\n        return () => {\r\n            map.remove();\r\n        }\r\n\r\n    }, [])\r\n\r\n\r\n        return (\r\n            <div className=\"Мap-container\">\r\n                <div className=\"Map-wrapper\">\r\n                    <div className=\"Map\" ref={mapContainer} />\r\n\r\n                    <div>Карта</div>\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\nexport default Map;","import React, {useEffect, useState} from 'react'\r\nimport {useHttp, useCountries} from \"../hooks/useHttp\";\r\nimport TabPanel from \"../components/Tabs/TabPanel\";\r\nimport VerticalTabs from \"../components/Tabs/VerticalTabs\";\r\nimport CountryAddForm from \"../components/Forms/CountryAddForm\";\r\nimport CountryUpdateForm from \"../components/Forms/CountryUpdateForm\";\r\nimport classesCss from './styles/AdminPage.module.scss'\r\nimport Map from \"../components/Map/Map\";\r\n\r\n\r\nconst langShortDummy = {\r\n    lang: \"\",\r\n    countryName: \"\",\r\n    shortText: \"\",\r\n    capitalName: \"\",\r\n}\r\nconst langFullDummy = {\r\n    lang: \"\",\r\n    countryCode: \"\",\r\n    countryName: \"\",\r\n    description: \"\",\r\n    capitalName: \"\",\r\n}\r\n\r\nconst AdminPage = () => {\r\n    const {request, loading} = useHttp()\r\n    const {getCountryFromBase, countryResponse, cLoading} = useCountries()\r\n    const [message, setMessage] = useState('')\r\n    const [countriesData, setCountriesData] = useState(null)\r\n\r\n    const addCountryHandler = async (form) => {\r\n        try {\r\n            const data = await request('/api/country/add', 'POST', {...form})\r\n            setMessage(data.message || '')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const updateCountryHandler = async (form) => {\r\n\r\n        try {\r\n            const data = await request('/api/country/update', 'POST', destructCountry(form))\r\n            setMessage(data.message || '')\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const destructCountry= (countryDataFromClient) => {\r\n        const countryStructure = {\r\n            ...countryDataFromClient.data,\r\n            langData: []\r\n        }\r\n        const langCountryStructure = []\r\n        for(let lang in countryDataFromClient.data.langData){\r\n            if(countryDataFromClient.data.langData.hasOwnProperty(lang)){\r\n                const shortLangData = {lang}\r\n                const fullLangData = {lang, countryCode: countryDataFromClient.countryCode}\r\n                for(let shortDummyKey in langShortDummy){\r\n                    if(countryDataFromClient.data.langData[lang][shortDummyKey] !== undefined){\r\n                        shortLangData[shortDummyKey] = countryDataFromClient.data.langData[lang][shortDummyKey]\r\n                    }\r\n\r\n                }\r\n                for(let fullDummyKey in langFullDummy){\r\n                    if(countryDataFromClient.data.langData[lang][fullDummyKey] !== undefined){\r\n                        fullLangData[fullDummyKey] = countryDataFromClient.data.langData[lang][fullDummyKey]\r\n                    }\r\n                }\r\n                countryStructure.langData.push(shortLangData);\r\n                langCountryStructure.push(fullLangData)\r\n            }\r\n        }\r\n\r\n        return {\r\n            countryData: countryStructure,\r\n            langCountryData: langCountryStructure\r\n        }\r\n    }\r\n\r\n    const structCountries = (countriesDataFromServer) => {\r\n        const structure = {}\r\n        for(let i = 0; i < countriesDataFromServer.countries.length; i++){\r\n\r\n            const countryCode = countriesDataFromServer.countries[i].countryCode\r\n\r\n            structure[countryCode] = countriesDataFromServer.countries[i]\r\n            // delete structure[countryCode].__id\r\n            // delete structure[countryCode].__v\r\n\r\n            const countryLangData = {};\r\n            for (let i = 0; i < structure[countryCode].langData.length; i++) {\r\n                countryLangData[structure[countryCode].langData[i].lang] = structure[countryCode].langData[i]\r\n            }\r\n            if(countriesDataFromServer.langCountries){\r\n                const currentCountryLangs = countriesDataFromServer.langCountries.filter(county => {\r\n                    return county.countryCode === countryCode\r\n                })\r\n                for (let i = 0; i < currentCountryLangs.length; i++) {\r\n                    countryLangData[currentCountryLangs[i].lang] = {\r\n                        ...countryLangData[currentCountryLangs[i].lang],\r\n                        ...currentCountryLangs[i]\r\n                    }\r\n                    delete countryLangData[currentCountryLangs[i].lang].lang\r\n                    delete countryLangData[currentCountryLangs[i].lang].countryCode\r\n                }\r\n\r\n            }\r\n            structure[countryCode].langData = countryLangData\r\n\r\n\r\n        }\r\n        return structure\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getCountryFromBase({})\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(countryResponse){\r\n            setCountriesData(structCountries(countryResponse))\r\n        }\r\n    }, [countryResponse])\r\n\r\n    return (\r\n        <>\r\n            <VerticalTabs>\r\n                <TabPanel className={classesCss.FormStyle1} label={\"Add Country\"}>\r\n                    <CountryAddForm\r\n                        waitCondition={loading}\r\n                        sendHandler={addCountryHandler}\r\n                        message={message}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel className={classesCss.FormStyle1} label={\"Add Lang\"}>\r\n                    {\r\n                        !countryResponse? cLoading?\r\n                            <div>Загрузка...</div> :\r\n                            <div>Ошибка при загрузке базы стран</div>:\r\n                            <CountryUpdateForm\r\n                                waitCondition={loading}\r\n                                sendHandler={updateCountryHandler}\r\n                                countriesData={countriesData}\r\n                                message={message}\r\n                            />\r\n                    }\r\n                </TabPanel>\r\n            </VerticalTabs>\r\n\r\n            <Map />\r\n        </>)\r\n}\r\n\r\n\r\nexport default AdminPage","import React from \"react\";\r\n\r\nexport const Search = (props) => {\r\n  const onSearchValueChange = (e) => {\r\n    props.setSearchbarState(e.target.value);\r\n  };\r\n\r\n  const SearchClear = () => {\r\n    props.setSearchbarState(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        onChange={onSearchValueChange}\r\n        value={props.searchbarState}\r\n        placeholder=\"Search country\"\r\n      />\r\n      <button onClick={SearchClear}>x</button>\r\n    </div>\r\n  );\r\n};\r\n","import React, {useState } from \"react\";\r\nimport { Route, Switch, Redirect, NavLink } from \"react-router-dom\";\r\nimport classesCss from \"./styles/App.module.scss\";\r\nimport { MainPage } from \"./pages/MainPage\";\r\nimport { CountryPage } from \"./pages/CountryPage\";\r\nimport { AuthPage } from \"./pages/AuthPage\";\r\nimport { useAuth } from \"./hooks/useAuth\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport NavBar from \"./components/Navigation/NavBar\";\r\nimport UserBar from \"./components/Navigation/UserBar\";\r\nimport AdminPage from \"./pages/AdminPage\";\r\nimport { Search } from \"./components/Search/Search\";\r\n\r\nfunction App() {\r\n  const { token, login, logout, userId } = useAuth();\r\n  const isAuthenticated = !!token;\r\n  const [searchbarState, setSearchbarState] = useState();\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ token, login, logout, userId, isAuthenticated }}\r\n    >\r\n      <div className={classesCss.Body}>\r\n        <NavBar classes={classesCss.SiteNavBar}>\r\n          <NavLink to={\"/\"}>Main</NavLink>\r\n          <Search\r\n            searchbarState={searchbarState}\r\n            setSearchbarState={setSearchbarState}\r\n          />\r\n          <UserBar classes={classesCss.UserBar} />\r\n        </NavBar>\r\n        <div className={classesCss.SiteContent}>\r\n          <Switch>\r\n            <Route path=\"/country/:countryName\" exact>\r\n              <CountryPage />\r\n            </Route>\r\n            <Route path=\"/admin\" exact>\r\n              <AdminPage />\r\n            </Route>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => <MainPage searchbarState={searchbarState} />}\r\n            />\r\n            {\r\n              !isAuthenticated ? (\r\n                <Route path=\"/login\" exact>\r\n                  <AuthPage />\r\n                </Route>\r\n              ) : null //TODO: create route to user page\r\n            }\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n        <div className={classesCss.SiteFooter}>\r\n\r\n        </div>\r\n      </div>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport reportWebVitals from './reportWebVitals';\n\nconst application = (\n    <BrowserRouter basename={process.env.NODE_ENV===\"production\"? \"http://heyheyjude.github.io/travel-app\" :null}>\n        <App />\n    </BrowserRouter>\n)\n\nconsole.log(process.env)\n\nReactDOM.render(\n  <React.StrictMode>\n      {application}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}